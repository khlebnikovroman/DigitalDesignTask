<!DOCTYPE html>
<html>
<head>
    <title>Описание картины "Спортсмены" Малевича</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

</head>
<body class="color3">
<header class="color1">
    <h1>Картина "Спортсмены" Малевича</h1>
</header>

<main class="column" style="max-width: 100vw">
    <div class="shadow color4 row">
        <div class="image-container">
            <img class="shadow image" src="https://s5o.ru/storage/simple/ru/edt/54/00/56/bb/rue0b90177331.jpg"
                 alt="Спортсмены">
        </div>
        <div class="column text">
            <div>
                <h2>Описание</h2>
                <p>Картина "Спортсмены" Малевича является одним из наиболее известных произведений авангардистского
                    художника.</p>
                <p>Она была создана в 1930 году и представляет собой абстрактную композицию, состоящую из геометрических
                    форм и ярких цветов.</p>
                <p>Эта картина стала символом конструктивизма и супрематизма, движений, которые Малевич активно
                    поддерживал и развивал в своих работах.</p>
                <p>Картина "Спортсмены" отражает энергию и движение, характерные для спорта, через использование
                    абстрактных форм, линий и цветовых пятен.</p>
                <p>Это прекрасное произведение искусства, которое продолжает вдохновлять и захватывать зрителей в наши
                    дни.</p>
            </div>
            <div class="row" style="align-self: flex-start">
                <h3>Полезные ссылки</h3>
                <ul>
                    <li><a href="https://rusmuseumvrm.ru/reference/classifier/author/malevich_ks/index.php">Казимир
                        Малевич в русском музее</a></li>
                    <li><a href="https://example.com">Статья о картинах Малевича</a></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="column">
        <div class="shadow color4 column form-container" style="min-width: 25em; flex-basis: content; ">
            <h2>Форма опроса</h2>
            <form action="/submit" method="POST">
                <div class="column form-question">
                    <h3>Общие вопросы</h3>
                    <label for="name">Ваше имя:</label>
                    <input type="text" id="name" name="name" required>

                    <label for="age">Ваш возраст:</label>
                    <input type="number" id="age" name="age" required>

                    <label for="email">Ваш email:</label>
                    <input type="email" id="email" name="email" required>
                </div>

                <div class="column form-question">
                    <h3>Вопросы по картине</h3>
                    <label for="like_dislike">Как вам нравится картина "Спортсмены" Малевича?</label>
                    <select id="like_dislike" name="like_dislike" required>
                        <option value="">Выберите вариант</option>
                        <option value="like">Нравится</option>
                        <option value="dislike">Не нравится</option>
                    </select>

                    <label for="description">Опишите свои впечатления от картины:</label>
                    <div class="grow-wrap">
                        <textarea id="description" name="description" required
                                  oninput="this.parentNode.dataset.replicatedValue = this.value"></textarea>
                    </div>

                    <label for="rating">Поставьте оценку от 1 до 10:</label>
                    <input type="number" id="rating" name="rating" min="1" max="10" required>
                </div>
                <div class="column form-question">
                    <h3> Какая из перечисленных ниже характеристик наиболее точно описывает ваше впечатление от картины
                        "Спортсмены"?</h3>

                    <div class="row input-label">
                        <input id="experimental" name="question5" type="radio" value="Экспериментальная">
                        <label for="experimental"> Экспериментальная</label>
                    </div>
                    <div class="row input-label">
                        <input id="symbolic" name="question5" type="radio" value="Символичная">
                        <label for="symbolic"> Символичная</label>
                    </div>
                    <div class="row input-label">
                        <input id="minimalistic" name="question5" type="radio" value="Минималистичная">
                        <label for="minimalistic"> Минималистичная</label>
                    </div>
                    <div class="row input-label">
                        <input id="abstract" name="question5" type="radio" value="Абстрактная">
                        <label for="abstract"> Абстрактная</label>
                    </div>
                    <div class="row input-label">
                        <input id="innovation" name="question5" type="radio" value="Инновационная">
                        <label for="innovation"> Инновационная</label>
                    </div>


                </div>
                <div class="column form-question">
                    <h3>Дополнительные вопросы</h3>

                    <label for="birthday">Ваша дата рождения:</label>
                    <input type="date" id="birthday" name="birthday" required>


                    <div class="row input-label">
                        <label for="newsletter">Подписаться на нашу рассылку?</label>
                        <input type="checkbox" id="newsletter" name="newsletter">
                    </div>

                    <div class="row input-label">
                        <label for="agreement">Согласны ли вы с условиями?</label>
                        <input type="checkbox" id="agreement" name="agreement" required>
                    </div>
                </div>


                <input class="shadow color3" type="submit" value="Отправить">
            </form>
        </div>
        <div class="row"
             style="align-items: center; justify-content:  center; min-width: 25em;  align-content: flex-start">
            <div class="shadow color4 column form-container form-question" style="max-width: 100vw">
                <h2>Форма отправки запроса к API</h2>
                <form id="send-to-api-form">
                    <label for="api-text-area">Введите текст</label>
                    <div class="grow-wrap">
                        <textarea id="api-text-area" name="api-text-area"
                                  oninput="this.parentNode.dataset.replicatedValue = this.value"></textarea>
                    </div>
                    <input class="shadow color3" type="submit" value="Отправить">
                </form>
            </div>
            <div id="answer-block" style="display: none;"
                 class="shadow color4 column form-container form-question">
                <h2>Ответ</h2>
                <div class="grow-wrap">
                    <textarea id="api-text-area-answer" style="max-width: 100%" readonly="readonly"
                              oninput="this.parentNode.dataset.replicatedValue = this.value"></textarea>
                </div>
            </div>
        </div>

    </div>

</main>
<footer class="color1">
    <h3>© 2023 Роман Хлебников</h3>
</footer>
</body>
<script>
    let form = document.getElementById("send-to-api-form");

    function submitForm(event) {
        event.preventDefault();
        const text = document.getElementById("api-text-area").value
        fetch("https://localhost:7215/WordFrequency", {
            method: "POST",
            body: JSON.stringify(text),
            headers: new Headers({'content-type': 'application/json'})
        })
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                document.getElementById("answer-block").style.display = "flex"
                const answerArea = document.getElementById("api-text-area-answer");
                answerArea.value = "";
                for (let key in data) {
                    answerArea.value += key + " : " + data[key] + "\n"
                }
                answerArea.oninput()
            })
    }

    form.addEventListener('submit', submitForm);

</script>
</html>

